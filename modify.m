% 给定的 S 盒矩阵（16x16）
S = [
    123, 34, 6, 11, 185, 182, 102, 252, 209, 54, 107, 3, 241, 220, 146, 85;
    43, 139, 187, 153, 48, 12, 104, 46, 94, 82, 193, 210, 168, 84, 83, 22;
    112, 27, 51, 228, 89, 91, 110, 171, 41, 1, 166, 135, 67, 103, 113, 92;
    248, 155, 249, 9, 223, 95, 23, 159, 29, 226, 5, 192, 151, 229, 100, 88;
    115, 239, 184, 233, 242, 132, 19, 4, 30, 26, 231, 98, 134, 179, 106, 140;
    167, 25, 212, 170, 117, 57, 158, 240, 183, 214, 18, 205, 216, 189, 62, 78;
    73, 52, 90, 227, 243, 254, 0, 163, 47, 211, 165, 39, 64, 99, 178, 141;
    55, 145, 59, 235, 49, 133, 144, 224, 203, 186, 60, 81, 79, 206, 202, 32;
    63, 127, 120, 77, 138, 58, 13, 69, 16, 156, 238, 24, 44, 93, 75, 234;
    142, 15, 96, 149, 131, 105, 177, 176, 208, 17, 87, 161, 232, 97, 148, 71;
    255, 173, 50, 236, 14, 247, 152, 42, 74, 188, 37, 119, 21, 33, 4, 244;
    31, 200, 72, 201, 65, 147, 222, 10, 129, 68, 109, 174, 114, 101, 128, 160;
    215, 169, 136, 219, 118, 221, 191, 86, 40, 56, 108, 218, 237, 181, 130, 137;
    150, 164, 195, 53, 251, 194, 253, 2, 204, 190, 172, 124, 70, 66, 36, 116;
    196, 111, 76, 207, 121, 122, 199, 250, 225, 213, 38, 35, 198, 125, 126, 246;
    162, 180, 230, 245, 197, 8, 80, 61, 154, 143, 20, 45, 28, 175, 157, 217
];

% 扁平化 S 盒矩阵为一个向量
S_flat = S(:);

% 查找 S 盒中出现过的唯一元素
unique_elements = unique(S_flat);

% 查找重复的元素
repeated_elements = setdiff(S_flat, unique_elements);

% 查找哪些元素在 S 盒中缺失（0-255 之间）
all_elements = 0:255;
missing_elements = setdiff(all_elements, unique_elements);

% 打印重复的元素
if ~isempty(repeated_elements)
    fprintf('重复的元素:\n');
    disp(repeated_elements);
else
    fprintf('没有重复的元素。\n');
end

% 打印缺失的元素
if ~isempty(missing_elements)
    fprintf('缺失的元素:\n');
    disp(missing_elements);
else
    fprintf('所有元素都已存在。\n');
end
